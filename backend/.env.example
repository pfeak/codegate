# CodeGate 环境变量配置示例
# 复制此文件为 .env 并根据需要修改配置

# ============================================
# 数据库配置
# ============================================

# 数据库类型：sqlite | postgresql
DATABASE_TYPE=sqlite

# ============================================
# SQLite 配置（当 DATABASE_TYPE=sqlite 时使用）
# ============================================
# SQLite 数据库文件路径
# 示例：
#   sqlite:///./codegate.db          # 相对路径
#   sqlite:////absolute/path/to.db   # 绝对路径
#   sqlite:///:memory:                # 内存数据库（仅用于测试）
DATABASE_URL=sqlite:///./codegate.db

# ============================================
# PostgreSQL 配置（当 DATABASE_TYPE=postgresql 时使用）
# ============================================
# 方式一：使用单独的配置项
POSTGRESQL_HOST=localhost
POSTGRESQL_PORT=5432
POSTGRESQL_USER=postgres
POSTGRESQL_PASSWORD=your_password
POSTGRESQL_DB=codegate

# 方式二：使用完整的连接 URL（优先级高于上面的配置项）
# 格式：postgresql://user:password@host:port/dbname
# 或：postgresql+psycopg2://user:password@host:port/dbname
# POSTGRESQL_URL=postgresql://postgres:password@localhost:5432/codegate

# ============================================
# 数据库通用配置
# ============================================
# 是否打印 SQL 查询日志（用于调试）
DATABASE_ECHO=false

# ============================================
# 应用配置
# ============================================
APP_NAME=CodeGate
APP_VERSION=0.1.0
DEBUG=false

# 文档根目录（可选）
# - 默认情况下，应用会尝试自动从当前工作目录下的 docs/sdk_api 解析
# - 如果你自定义了部署目录（例如 Docker 容器），可以显式指定：
#   CODEGATE_DOCS_BASE_PATH=/app/docs/sdk_api
# CODEGATE_DOCS_BASE_PATH=/absolute/path/to/docs/sdk_api

# ============================================
# 日志配置
# ============================================
LOG_LEVEL=INFO
# LOG_FILE=/path/to/logfile.log  # 可选，不设置则输出到控制台

# ============================================
# 激活码配置
# ============================================
CODE_DEFAULT_LENGTH=12
CODE_CHARSET=ABCDEFGHJKLMNPQRSTUVWXYZ23456789

# ============================================
# 安全配置
# ============================================
# CORS 允许的来源（JSON 数组格式）
# 注意：当 allow_credentials=True 时，不能使用 "*" 通配符
CORS_ORIGINS=["http://localhost:3000"]

RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# ============================================
# 文件上传配置
# ============================================
MAX_UPLOAD_SIZE=10485760  # 10MB

# ============================================
# 会话配置
# ============================================
SESSION_BACKEND=memory  # memory | redis
# SESSION_REDIS_URL=redis://localhost:6379/0  # 当 SESSION_BACKEND=redis 时使用
SESSION_TTL_SECONDS=604800  # 7 天（秒）
